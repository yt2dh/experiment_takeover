{{ block title }}
    <b>Round {{ player.round_number }}</b>

    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    {% load otree static %}
    <link rel="stylesheet" href="{% static 'global/css/style.css' %}"/>
    <link rel="stylesheet" href="{% static 'global/css/button.css' %}"/>
{{ endblock }}
{{ block content }}

    <style> p {text-align: left; font-size: 18px; }
            .paragraph1 {font-size: 26px;}
            .paragraph2 {font-size: 18px;}
            li {font-size: 1.08em;}
            .form-select {font-size: 1.2em; margin-top:2%}
            .dropdown-content {position: relative;}
            #myDIV {
                      width: 100%;
                      padding: 50px 0;
                      text-align: center;
                      background-color: lightblue;
                      margin-top: 20px;
                      margin-right: 10px;
                      margin-bottom: 0px;
                      margin-left: 10px;
                    }

            table, th, td {
              border:1px solid black;
              text-align: center;
            }
    </style>
    <!--form-select {font-size: 1.2em; width: 50%; margin-left : 42%; }-->
    <p class="paragraph1">You are the <b>buyer</b>.</p>

    <p class="paragraph1">You have an endowment of <b>${{ Endowment|to2 }}</b> to buy the asset.</p>

    <p class="paragraph2">The asset is worth <b>$V</b> to the seller, where <b>$V</b> is <b>{{ Beta }}</b> times <b><span style="color: #ff0000">your private signal</span></b> of <b><span style="color: #ff0000">{{ player.signal }}</b> plus <b>{{ Beta_Complement }}</b> times <b><span style="color: #0000CD">the seller's private signal</span></b>, which is equally likely to be <b><span style="color: #0000CD">${{ Constants.ThetaMin|to2 }}</b> or <b><span style="color: #0000CD">${{ ThetaMax|to2 }}</b>.</p>

    <!--<p><b><span style="color: #ff0000">Your private signal</span></b> is <b><span style="color: #ff0000">{{ player.signal }}</b></b>.</p>-->

    <!--<p>The <b><span style="color: #0000CD">seller's private signal</span></b> is equally likely to be <b><span style="color: #0000CD">${{ Constants.ThetaMin|to2 }}</b> or <b><span style="color: #0000CD">${{ ThetaMax|to2 }}</b>.</p>-->

    <!--<p>The value of the asset to the Seller <b>$V</b> = <b>{{ Beta }}</b> x <span style="color: #ff0000"><b>{{ player.signal }}</span></b> + <b>{{ Beta_Complement }}</b> x <b><span style="color: #0000CD">the seller's private signal</span></b>.</p>-->

    <p class="paragraph2">Hence, <b>$V</b> = <span style="color: #ff0000"><b>{{ player.signal_weight }}</span></b> + <b><span style="color: #0000CD">?</span></b>, where <b><span style="color: #0000CD">?</span></b> is equally likely to be <b><span style="color: #0000CD">{{player.signal_weight_opp_low}}</span></b> or <b><span style="color: #0000CD">{{player.signal_weight_opp_high}}</span></b>. </p>

    <p class="paragraph2">This means that there is a <b>50%</b> chance that <b>$V</b> is <b>{{player.signal_weight_total_low}}</b> and a <b>50%</b> chance that <b>$V</b> is <b>{{player.signal_weight_total_high}}</b>.</p>

    <p class="paragraph2">The asset is worth <b>1.5</b> times <b>$V</b> to you, so there is a <b>50%</b> chance that the asset is worth <b>{{player.signal_weight_total_fifty_low}}</b> and a <b>50%</b> chance that the asset is worth <b>{{player.signal_weight_total_fifty_high}}</b> to you.</p>

    <p class="paragraph2">To summarize, based on <b><span style="color: #ff0000">your private signal</span></b> of <b><span style="color: #ff0000">{{ player.signal }}</b>:</p>

    <table class="table">
  <thead>
    <tr>
      <th><b>Chance</b></th>
      <th><b>Value to the seller, $V</b></th>
      <th><b>Value to you, 1.5 x $V</b></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><b>50%</b></td>
      <td><b>{{player.signal_weight_total_low}}</b></td>
      <td><b>{{player.signal_weight_total_fifty_low}}</b></td>
    </tr>
    <tr>
      <td><b>50%</b></td>
      <td><b>{{player.signal_weight_total_high}}</b></td>
      <td><b>{{player.signal_weight_total_fifty_high}}</b></td>
    </tr>
  </tbody>
</table>

    <p class="paragraph2"><u>Remember that the seller only knows that <b><span style="color: #ff0000">your private signal</span></b> is equally likely to be <b><span style="color: #ff0000">${{ Constants.ThetaMin|to2 }}</b> or <b><span style="color: #ff0000">${{ ThetaMax|to2 }}</b></u>.</p>
    <ul>
    <li>If the seller <b>accepts</b> your bid, your earnings for this round will be <b>1.5 x $V </b> minus <b>your bid</b>.</li>

    <li>If the seller <b>rejects</b> your bid, your earnings for this round will be <b>$0</b>.
    </ul>


    <p class="paragraph1">What is your bid to the seller? {{ form.buyer_choice }} &nbsp;</p>

<!--<body>-->
    <div class="container">
        <div class="calculator">
            <form>
                <div class="display">
                    <input type="text" name="display" class="output numbers2">
                </div>
                <div>
                    <input type="button" value="AC" class="equal operator numbers" onclick="display.value = '' ">
                    <input type="button" value="DE" onclick="display.value = display.value.toString().slice(0,-1)" class="operator numbers">
                    <input type="button" value="/" onclick="display.value += '/' " class="operator numbers">
                </div>
                <div>
                    <input type="button" value="7" onclick="display.value += '7' " class="numbers">
                    <input type="button" value="8" onclick="display.value += '8' " class="numbers">
                    <input type="button" value="9" onclick="display.value += '9' " class="numbers">
                    <input type="button" value="*" onclick="display.value += '*' " class="operator numbers">
                </div>
                <div>
                    <input type="button" value="4" onclick="display.value += '4' " class="numbers">
                    <input type="button" value="5" onclick="display.value += '5' " class="numbers">
                    <input type="button" value="6" onclick="display.value += '6' " class="numbers">
                    <input type="button" value="-" onclick="display.value += '-' " class="operator numbers">
                </div>
                <div>
                    <input type="button" value="1" onclick="display.value += '1' " class="numbers">
                    <input type="button" value="2" onclick="display.value += '2' " class="numbers">
                    <input type="button" value="3" onclick="display.value += '3' " class="numbers">
                    <input type="button" value="+" onclick="display.value += '+' " class="operator numbers">
                </div>
                <div>
                    <input type="button" value="0" onclick="display.value += '0' " class="numbers">
                    <input type="button" value="." onclick="display.value += '.' " class="numbers numbers">
                    <input type="button" value="=" onclick="display.value = eval(display.value)" class="equal operator numbers">
                </div>

            </form>
    </div>
<!--</body>-->

        <script>
        const errorDiv = document.querySelector('.otree-form-errors');

        if (errorDiv) {
            errorDiv.textContent = 'You need to bid at least $1.00 and your bid cannot exceed your endowment.'
        }
        </script>

    <button class="button">Next</button>
{{ endblock }}